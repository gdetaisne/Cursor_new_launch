# Commits pour P0-t014

**Date** : 2025-11-10  
**Commits** : 8 commits

---

## 2025-11-10 — 9cc8efb
**P0-t014: Fix booking.schema.ts & complete API testing ✅**

- Fix ZodEffects .partial() issue in booking.schema.ts
- Extracted bookingBaseSchema before .refine()
- All 34 endpoints tested and operational

## 2025-11-10 — c64be7f
**P0-t014: Add Bookings & Payments routes (5/5 endpoints) ✅ — API COMPLETE!**

- POST /api/bookings (30% deposit validation)
- GET /api/bookings (pagination + filters)
- GET /api/bookings/:id (full details)
- POST /api/bookings/payments (commission calculation)
- GET /api/bookings/payments (admin list)

## 2025-11-10 — ac04f98
**P0-t014: Add Leads routes (4/4 endpoints) ✅**

- POST /api/leads
- GET /api/leads
- GET /api/leads/:id
- POST /api/leads/:id/convert (to folder)

## 2025-11-10 — 6eea7ff
**P0-t014: Add Clients routes (5/5 endpoints) ✅**

- POST /api/clients
- GET /api/clients
- GET /api/clients/:id
- PATCH /api/clients/:id
- POST /api/clients/:id/anonymize (RGPD)

## 2025-11-10 — 97fbb98
**P0-t014: Add Movers routes (6/6 endpoints) ✅**

- POST /api/movers (SIRET + email unique)
- GET /api/movers (pagination + filters)
- GET /api/movers/:id (full details + stats)
- PATCH /api/movers/:id
- POST /api/movers/:id/blacklist
- DELETE /api/movers/:id

## 2025-11-10 — 10f4d8c
**P0-t014: Add Quotes routes (8/8 endpoints) ✅**

- POST /api/quotes
- GET /api/quotes
- GET /api/folders/:folderId/quotes
- GET /api/quotes/:id
- PATCH /api/quotes/:id
- POST /api/quotes/:id/validate (admin)
- POST /api/quotes/:id/score (admin, weighted average)
- POST /api/quotes/:id/remind
- DELETE /api/quotes/:id

## 2025-11-10 — f6d991d
**P0-t014: Implement Express API foundation + Folders routes ✅**

- Express 5.1.0 + middlewares (cors, helmet, morgan, rate-limit)
- Architecture modulaire (routes/controllers/services/middlewares/utils)
- Error handler global (Prisma + Zod + custom ApiError)
- Health check endpoint
- Folders routes (6/6 endpoints)

## 2025-11-10 — 15c79eb
**Create P0-t014: API Routes Backend (REST)**

- Task specification created
- 34 endpoints planned across 6 modules
- Architecture design documented

